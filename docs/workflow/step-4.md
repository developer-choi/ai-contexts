# Step 4: Task Detail 2차 - 상세 스펙 구체화 요청
이 단계는 Step 3에서 생성된 **Task Detail 문서**에 사용자가 추가로 제공할 정보(피그마, 타입, 참고 코드 등)를 반영하여 **최종 개발 명세서**를 완성하는 단계입니다.

# 참고 자료
- [background.md](./background.md)
- `/plan/motivation.md` (Step 1에서 생성됨)
- `/plan/commit-sequence.md` (Step 2에서 생성됨)
- [기획서 링크]
- [피그마 링크]
- [회의 음성 텍스트 요약본]
- [관련 필기]
- [간단한 개발설계]

# 요청 내용
Step 3에서 생성된 Task Detail 문서에 **타입 시그니처와 상세 스펙**을 추가하여 완성합니다.

## [CRITICAL] 타입 시그니처 명확히 작성
Step 4의 핵심은 **타입을 명확히 작성**하는 것입니다. `/plan/overview.md`와 Step 3 문서의 정보를 바탕으로 다음을 반드시 포함하세요:

### 1. 컴포넌트 개발인 경우
- **Props Interface**: 모든 props의 타입, 선택/필수 여부, 설명
- **참고 템플릿**: `./template/component.md`

### 2. 함수 / 훅 / 클래스 개발인 경우
- **Input / Output 시그니처**: 파라미터와 반환값의 타입을 명확히 작성
- **참고 템플릿**: `./template/function-hooks-class.md`

### 3. 타입 정의 작업인 경우
- **각 인터페이스/타입의 전체 시그니처**: 모든 필드의 타입, 선택/필수, 제약 조건
- overview.md의 데이터 구조/API 스펙을 참고하여 작성

---

## 작성 시 주의사항
- 사용자가 준 정보를 그대로 복사하기보다, **개발자의 관점에서** 누락된 엣지 케이스나 예외 상황을 찾아서 보완해주세요.
- 최종 완성된 문서는 개발자가 코드를 작성할 때 **추가 질문 없이 보고 바로 짤 수 있을 정도**로 구체적이어야 합니다.

---

# step 4를 통해 완성된 Task Detail 문서 양식 (결과물 예시)
AI는 최종적으로 아래와 같은 구조로 문서를 완성해야 합니다.

### 개요
- **작업 파일**: `src/components/.../FileName.tsx`
- **목적**: 이 작업이 왜 필요한지 세 줄 미만 요약.

### 참고자료 (STEP 3, 4에서 사용자가 제공한 정보)
- 기획, 피그마, 회의록
- 참고할 파일, 커밋 등

### 예상 영향 범위
- **수정되는 파일**: 기존 코드를 수정해야 한다면 해당 파일 목록.

### 스펙 (Specification)
아래 내용을 작성합니다.

#### 1) 모듈/함수 시그니처 (구현 단위)
- 해당 파일에서 구현해야 할 모든 모듈 단위를 명시하세요.
- 예 (calculator.ts):
  - `add(a: number, b: number): number`
  - `subtract(a: number, b: number): number`

#### 2) (컴포넌트인 경우에만 작성) 데이터 표시 및 형식
리스트나 테이블을 다룰 때, **각 항목의 데이터가 어떻게 표시되는지** 구체적으로 기술합니다:
- **텍스트 포맷**: 날짜(YYYY.MM.DD), 금액(1,000), 말줄임 처리 등.
- **상태별 시각 요소**: 상태값에 따른 배지 컬러(NOTICE: Red), 아이콘 등.
- **예외 문구**: 데이터가 없을 때 표시할 텍스트.

#### 3) (컴포넌트인 경우에만 작성) UX 전략 및 워크플로우
주요 동작의 흐름 및 사용자 인터랙션 방식을 구체적으로 기술합니다:
- **트리거**: 엔터 키 입력 시 검색 실행, 클릭 시 모달 오픈 등.
- **동작 방식**: 무한 스크롤(자동 로드), URL 동기화(쿼리 파라미터 업데이트) 등.
- **페이지 이동 전략**: 싱글 페이지 지향 (모달 활용 여부 등).
- **CRUD 워크플로우**: 각 액션(작성, 수정, 삭제)이 어디서 어떤 컴포넌트를 통해 일어나는지.

#### 4) (컴포넌트인 경우에만 작성) 상태 피드백
성공/실패 알림, 로딩, 에러 UI 처리 방식을 명시합니다:
- **로딩**: 스켈레톤 UI 사용 여부, 스피너 노출 위치.
- **에러**: 토스트 알림, 인라인 콜아웃, 또는 다이얼로그 노출 방식.
- **빈 데이터**: Empty 컴포넌트 노출 조건.

#### 5) 핵심 코드 스니펫 (Core Code Snippets)
- 함수 본문 내에서 다음과 같은 외부 저장소나 API와 상호작용하는 핵심 로직이 있는 경우에만 포함하세요. (대부분의 경우 생략 가능)
  - 브라우저 저장소: `localStorage`, `sessionStorage` 등.
  - Next.js 서버 기능: `cookies()`, `headers()`, `revalidatePath()` 등.
  - 외부 API 호출의 핵심 파라미터 구성.
- **복잡한 알고리즘**: 복잡한 계산이나 변환이 필요한 로직의 초안(Draft).

#### 6) 테스트 케이스 (Checklist)
개발 완료 후 검증해야 할 항목들을 기능별/상태별로 상세히 리스트업합니다.

- **기본 동작**: 컴포넌트의 열림/닫힘, 버튼 클릭 시 핸들러 호출 등.
- **모드별 렌더링**: 조건(작성/수정 모드 등)에 따른 타이틀, 버튼 텍스트 변화.
- **필드 검증**: 입력 필드 렌더링 및 초기값(Pre-fill) 설정 여부.
- **비즈니스 로직**: 유효성 검사 성공/실패 시나리오.
- **더미/API 연동**: 데이터 제출 시 핸들러 호출 및 인자 전달 확인.

> **[예시]**
> - **모달 동작**: [ ] ESC 키로 모달이 닫히는가? [ ] 닫기 버튼 클릭 시 onClose가 호출되는가?
> - **수정 모드**: [ ] initialData가 있을 때 각 필드에 값이 올바르게 채워지는가?
> - **유효성 검사**: [ ] 제목이 80자를 초과할 때 에러 메시지가 표시되는가?

유형별 참고 템플릿:
- [Component](./template/component.md)
- [Function, Hooks, Class](./template/function-hooks-class.md)