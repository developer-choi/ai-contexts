# Step 1: 프로젝트 개요 및 전략 수립
이 단계는 기능 구현의 목적과 방향성을 잡고, 최적의 도구(라이브러리)를 결정하는 단계입니다.

기획/디자인 부재 시 전반적인 UI/UX 컨셉도 확정하는 단계입니다.

## [CRITICAL] 진행 원칙: 단일 도메인 & 단일 기능
이 프로세스는 반드시 **한 번에 하나의 구체적인 기능**만 다뤄야 합니다.

1. **도메인 분리**: 여러 도메인(예: 회원, 주문)을 섞어서 진행하지 않습니다.
2. **기능 세분화 (Feature Unit)**:
   - **❌ Bad (너무 큼)**: "게시판 CRUD 개발해주세요."
   - **✅ Good (쪼개서 진행)**:
     - 1단계: "게시판 리스트 조회(R) 기능 먼저 할게요."
     - 2단계: "조회 끝났으니, 게시글 작성(C) 기능 진행할게요."
   - **이유**: 한 번에 너무 많은 기능을 다루면 문서가 복잡해지고, 리뷰와 테스트가 어려워집니다.

- **복수 기능 요청 시**: 사용자에게 **"기능 단위로 나누어 진행하는 것이 좋습니다. '게시글 목록 조회'부터 시작할까요?"**라고 제안하세요.
- **범위 제한**: 하나의 `overview.md`는 하나의 세부 기능에 집중해야 합니다.

# 요청 내용
**[DOMAIN_NAME]** 도메인의 **[FEATURE]** 기능을 구현하려고 합니다.

전체 작업은 [계획 > 개발 > 리뷰] 순으로 진행되며, 지금은 첫 번째 **계획** 단계입니다.

[roadmap.md](../self-help/roadmap.md)의 사고 흐름을 적용하여 라이브러리 선정을 포함한 `/plan/overview.md`를 작성해주세요.

## [CRITICAL] 필수 제공 자료 확인
작업을 시작하기 위해 아래 목록 중 **최소 1개 이상**의 자료가 반드시 필요합니다.

### 검토 자료 목록
- [background.md](./background.md) (기본 참조)
- [기획서 링크]
- [피그마 링크]
- [회의 음성 텍스트 요약본]
- [관련 필기 / 티켓]
- [간단한 개발설계]

### 대응 수칙
1. **자료가 하나도 없는 경우**:
   - 즉시 작업을 멈추고 **"작업을 위한 기획서, 피그마, 또는 티켓 링크를 제공해 주세요."**라고 요청하세요.
   - 임의로 추측하여 문서를 작성하지 마십시오.

2. **자료가 하나라도 있는 경우**:
   - **"제공해주신 자료 외에 추가로 참고해야 할 문서가 있나요? 없다면 바로 작성을 시작하겠습니다."**라고 확인 후 진행하세요.

---

자료 확인이 끝났다면, 아래 양식에 맞춰 `/plan/overview.md` 파일을 작성해주세요.

**단순한 기능 나열이 아닌, [roadmap.md](../self-help/roadmap.md)의 논리적 흐름(문제 정의 -> 해결책 도출)과 라이브러리 선정의 타당성이 드러나야 합니다.**

## 작성 지침: 담백한 기능 중심 작성 (Keep It Simple)
- **간결함**: **"데스크톱 수준의 인터랙션", "능동적 제어 환경" 같은 화려한 수식어나 마케팅적 표현은 배제하세요.** 문서는 최대한 담백해야 합니다.
- **전수 명세 (Full Specification) - [CRITICAL]**: 제공받은 자료(기획서, PDF, Swagger 등)에 명시된 **모든 세부 구현 스펙을 하나하나 빠짐없이 명세**해야 합니다. 
    - 예: 필드명, 데이터 타입, 글자 수 제한, 정렬 기준 등.
    - AI가 임의로 "등등"으로 생략하는 것을 엄격히 금지합니다. 모든 조건이 문서에 명문화되어야 합니다.

## 작성 양식 (`/plan/overview.md`)
### 1. 목적 (Why & Goal)
- **배경 및 목표**: 왜 이 기능을 만드는가? (해결해야 할 문제가 있다면 기술하고, 신규 기능이라면 달성 목표를 기술)
- **핵심 기능 목록**: 구현해야 할 기능을 간단히 나열 (List-up).
  - 예: 게시판 CRUD, 무한 스크롤, 검색 필터, 컬럼 조절 기능

### 2. 상세 구현 스펙 (Detailed Specification)
> 제공된 자료의 내용을 바탕으로 **모든 데이터 구조와 제약 조건**을 상세히 기술합니다.

#### 2.1. 데이터 구조 (필드)
**모든 필드를 빠짐없이 명시**하고, 각 필드의 타입, 제약 조건, 기본값을 기술합니다.
- `id`: String (고유 식별자, 자동 생성 cuid)
- `title`: String (최대 80자, 필수)
- `body`: String (최대 2000자, 금칙어 필터 적용)
- `category`: Enum (NOTICE | QNA | FREE)
- `tags`: String[] (최대 5개, 각 24자 이내, 중복 제거)
- `createdAt`: DateTime (생성 시각, 자동 생성)

#### 2.2. API 스펙 (해당되는 경우)
**백엔드 API를 사용하는 경우 반드시 포함**해야 합니다:
- **Endpoint**: `GET https://example.com/api/posts`
- **Query Parameters** (모든 파라미터 명시):
    - `offset`: Number (페이지네이션 시작, 기본값 0)
    - `limit`: Number (한 번에 가져올 개수, 기본값 20)
    - `orderBy`: String (선택, title | createdAt, 기본값 createdAt)
    - `order`: String (선택, asc | desc, 기본값 desc)
- **Response 구조**: `{ list: Post[] }` 명시

#### 2.3. 비즈니스 로직 및 제약 사항
- 정렬: `title` 또는 `createdAt` 기준 오름/내림차순
- 필터: `category` 별 필터링 (NOTICE, QNA, FREE)

### 3. 디자인 및 레이아웃 컨셉 (Design Concept)
> **(피그마 부재 시 필수)** 실무 기획서나 디자인이 따로 제공되지 않는 경우, 이 단계에서 레이아웃과 구성을 확정합니다.

#### 3.1. 레이아웃 구조
헤더, 사이드바, 본문 등 영역별 배치 전략과 **각 영역에 포함될 세부 구성 요소**를 명시합니다.

#### 3.2. 데이터 표시 방식 (해당되는 경우)
리스트나 테이블을 다룰 때, **각 항목의 데이터가 어떻게 표시되는지** 구체적으로 기술합니다:
- 제목: String (최대 80자, 오버플로우 시 말줄임표)
- 작성일: DateTime (포맷: YYYY.MM.DD HH:mm)
- 카테고리: Badge 컴포넌트 (NOTICE: 빨강, QNA: 파랑, FREE: 회색)
- 태그: Badge List (최대 5개, 오버플로우 시 생략)

#### 3.3. UX 전략
주요 동작의 흐름 및 사용자 인터랙션 방식을 **구체적으로** 기술합니다:
- **검색 트리거**: 검색바 엔터 키
- **무한 스크롤**: 리스트 하단 도달 시 자동 로드 (offset += limit)
- **URL 동기화**: 검색/필터 변경 시 쿼리 파라미터 업데이트, 뒤로 가기 지원
- **페이지 이동 전략**: 싱글 페이지 지향 (모달 활용)
- **CRUD 워크플로우**: 각 액션이 어디서 어떤 컴포넌트를 통해 일어나는지 기술

#### 3.4. 피드백 및 상태
성공/실패 알림, 로딩, 데이터 없음(Empty) 등의 UI 처리 방식을 명시합니다:
- **로딩 (Initial)**: Spinner 컴포넌트 표시
- **로딩 (More)**: 하단 작은 Spinner
- **데이터 없음 (Empty)**: "검색 결과가 없습니다" + 초기화 버튼
- **에러 (Error)**: Dialog로 메시지 노출

#### [작성 예시]
- **레이아웃 구조**:
    - **Sidebar (좌측 고정)**: 상단 로고, 서비스 메뉴(Dashboard, Posts), 하단 사용자 프로필 요약.
    - **Header (상단 고정)**: 브레드크럼, 알림 아이콘, 테마 토글, 로그아웃 버튼.
    - **Main Content (본문)**: 페이지 타이틀, 액션 버튼(우측 상단), 데이터 테이블 또는 차트 영역.
- **UX 전략 (Modal-driven CRUD)**:
    - **페이지 이동 최소화**: `/posts` 경로에서 모든 CRUD 행위를 처리하여 사용자 맥락 유지.
    - **작성/수정/상세**: Radix Themes의 `Dialog` (모달) 컴포넌트를 활용.
        - **글쓰기**: 상단 'New Post' 버튼 클릭 시 모달 오픈.
        - **상세/수정**: 테이블 행 클릭 시 상세 모달 오픈 -> 모달 내에서 '수정' 모드 전환 또는 '삭제' 처리.
    - **피드백**: 성공/실패 여부는 별도 페이지 이동 대신 Toast 또는 Inline Callout으로 처리.

### 4. 기술 전략 (Technical Strategy)

각 주요 기능에 대해 **라이브러리 선정, 대안 비교, 구현 방법**을 명시합니다.

#### 작성 형식 (기능별)
각 주요 기능마다 아래 형식으로 작성:

**기능명: [라이브러리 이름]**
- **선택 라이브러리**: `@tanstack/react-query`
- **선택 근거**: 왜 이 라이브러리가 본 프로젝트에 가장 적합한가?
    - useInfiniteQuery로 offset 기반 무한 스크롤 구현 가능
    - 캐싱 및 백그라운드 리페칭 지원
    - 로딩/에러 상태 자동 관리
- **대안 비교**:
    - SWR: 무한 스크롤 구현이 TanStack Query보다 복잡
    - 직접 구현: 캐싱, 리페칭 등 모든 로직을 수동 관리
- **핵심 구현 방법**:
    - `getNextPageParam`으로 다음 offset 계산
    - IntersectionObserver로 스크롤 감지 시 fetchNextPage 호출
    - queryKey에 검색/필터/정렬 파라미터 포함하여 자동 리페칭

### 5. 참고 자료
- 기획서, 디자인, 회의록 링크 등

## [CRITICAL] 최종 검토: 기능 누락 확인
`overview.md` 작성이 완료되면, 반드시 다음을 수행하세요.

1. **대조 점검**: 처음에 제공받은 자료(기획서, 티켓, 요구사항 등)와 방금 작성한 `핵심 기능 목록`을 비교합니다.
2. **누락 확인**: 사용자가 요구했으나 문서에 포함되지 않은 기능이 있는지 확인합니다.
3. **수정 및 알림**: 누락된 기능이 있다면 문서를 수정하거나, 포함하지 않은 이유를 사용자에게 설명하세요.