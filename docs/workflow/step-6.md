# Step 6: 최종 점검 및 PR 준비

이 단계는 모든 기능 구현(Step 5의 Task 완료) 및 커밋이 끝난 후, **PR(Pull Request) 생성 또는 QA 요청 직전**에 수행하는 최종 리허설 단계입니다.

---

## 1. Gap Analysis 및 추가 커밋 검증
Step 5의 상세 명세서(Task Detail)보다 실제로는 더 많은 커밋이 발생했을 가능성이 높습니다. (버그 수정, 엣지 케이스 발견 등)
이 단계에서는 **계획되지 않았던 추가 커밋들**을 식별하고 집중적으로 검증합니다.

- **커밋 로그 분석**: `git log`를 통해 원래 계획된 커밋 외에 추가된 커밋들을 식별합니다.
- **추가 검증 수행**: 계획에 없던 코드가 추가되었다면, 해당 로직을 커버하는 테스트 케이스도 함께 추가되었는지 확인합니다.

## 2. 통합 검증 및 최종 보고서 작성
스스로 '엄격한 리뷰어'가 되어 기술적 품질과 기능적 완성도를 동시에 점검 후 기록하세요.

**상세 기준 및 체크리스트는 아래 문서를 따릅니다:**
> - **[코드 품질 및 리뷰 기준](../for-all-projects/README.md)**: `coding`, `testing`, `review` 폴더 내의 규칙 준수 여부 확인.
> - **[작업 회고 및 셀프 리뷰](../self-help/review-work.md)**: 작업 효율성, 커밋 품질, 리팩토링 포인트 점검.

### 2.1. 검증 수행 항목
AI는 추가된 커밋들을 분석하여 **무엇을 검증해야 하는지(Test Cases)**를 설계하고, **코드 자체의 논리적 결함**을 찾아내는 데 집중합니다.

**1. 테스트 케이스 도출**:
  - 구현된 코드를 기반으로 검증이 필요한 시나리오(Happy Path, Edge Case)를 빠짐없이 리스트업합니다.
  - 사용자가 놓칠 수 있는 예외 상황(데이터 없음, 네트워크 실패 등)을 시나리오에 포함시킵니다.

**2. 코드 논리 점검 (Static Analysis)**:
  - 실행하지 않고도 예측 가능한 에러(예: Null Reference, 비동기 경쟁 상태)를 찾아냅니다.
  - "이 로직은 A 상황에서 에러가 발생할 가능성이 있습니다"와 같이 구체적인 위험 요소를 지적합니다.

### 2.2. 최종 보고서 작성 (`/plan/review.md`)
AI가 분석한 **잠재적 위험 요소**와 **검증 시나리오 목록**을 보고서로 작성하여 사용자에게 제출합니다.

**작성 양식 예시**:
```markdown
# 최종 검증 보고서 - [기능명]

## 1. 코드 논리 점검 (잠재적 위험)
- **[Critical]** `userData` 객체가 `null`일 경우 렌더링 중 크래시 발생 가능성 있음. (File: `UserProfile.tsx`, Line: 45)
    - 💡 **제안**: 옵셔널 체이닝(`?.`) 추가 필요.
- **[Minor]** API 호출 실패 시 에러 처리 로직이 누락됨. 무한 로딩 상태 빠질 수 있음.

## 2. 도출된 테스트 케이스
이 코드가 정상 동작함을 확인하기 위해 다음 시나리오들의 검증을 권장합니다.

### 2.1. 필수 검증 시나리오
- [ ] **[결제]** 잔액이 부족한 상태에서 결제 시도 시 "잔액 부족" 알림이 뜨는가?
- [ ] **[결제]** 결제 완료 직후 뒤로가기를 눌렀을 때 중복 결제가 방지되는가?

### 2.2. 엣지 케이스
- [ ] **[입력]** 수량에 음수(-1)나 0을 입력했을 때 방어 로직이 작동하는가?
- [ ] **[네트워크]** 요청 중 인터넷 연결을 끊었을 때 앱이 멈추지 않는가?
```

## 3. 워크플로우 회고 및 개선
작업을 마무리하며, **'일하는 방식'** 자체를 점검하고 업그레이드합니다.

- **프로세스 점검**: Step 1~6를 진행하면서 불필요한 절차, 모호한 지시, 혹은 AI가 헤맸던 부분이 있었는지 회고합니다.
- **가이드 업데이트**: 개선이 필요한 부분이 있다면 `docs/workflow/*.md` 파일을 어떻게 수정하면 좋을지 사용자에게 제안합니다.
