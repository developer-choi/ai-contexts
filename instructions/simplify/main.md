# 라이브러리 단순화 프로젝트

## 프로젝트 목표

대상 라이브러리의 복잡한 코드를 **최소한의 기능만 남기고 단순화**하여 학습 및 이해를 돕는다.

---

## 작업 프로세스

### 1. 계획서 작성 📋

**⚠️ 반드시 Plan Mode를 사용하여 계획서를 작성하세요!**

- `EnterPlanMode` 도구로 plan mode 진입
- 코드베이스 탐색 및 체계적으로 계획 작성
- `ExitPlanMode`로 사용자 승인 요청

**계획서**
- 양식: (이 저장소) `format/commit.md`
- 예시: (간소화 프로젝트) `instructions/simplification-patterns.md`

**핵심 규칙:**
1. 각 커밋마다 "무엇을", "왜 불필요한가", "삭제 대상", "커밋" 4개 섹션 필수
2. "왜 불필요한가"에는 "학습 목적", "복잡도" 중 최소 1개 이상 포함
3. **⭐ 계획서의 커밋 번호와 실제 커밋 번호 반드시 일치**
   - 총 11개면 → 1/11, 2/11, ..., 11/11
   - 여러 커밋 합치기 가능하나 계획서에 미리 명시 (예: "Commit 3-4: 기능 A, B 함께 삭제")
4. 구체적인 커밋 예시는 (간소화 프로젝트) `instructions/simplification-patterns.md` 참고

### 2. 사용자 승인 대기 ✋

- Plan Mode에서 작성한 계획서를 사용자에게 제출
- 사용자 승인 후 다음 단계 진행

### 3. 원본 문서 작성 (*-original.md) 📄

**⚠️ 중요**: 사용자 승인 후 Plan Mode에서 빠져나온 다음 커밋단위로 작업 시작 하기 전에 반드시 `*-original.md` 문서를 작성해야합니다.
- **파일경로:** docs/[카테고리]/[대상명]-original.md

**⭐ 이 단계에서 작성하는 이유**: 아직 원본 파일이 수정되지 않은 상태이므로 git history를 뒤질 필요가 없습니다.
- **양식:** (이 저장소) `[타입]/format/original.md`

**⚠️ 별도 커밋 필수**: 원본 문서 작성을 완료한 후 **반드시 별도의 커밋으로 먼저 저장**해야 합니다.
- 원본 문서만 따로 커밋: `git add docs/[카테고리]/[대상명]-original.md && git commit -m "docs: [대상명] 원본 분석 문서 작성"`
- 그 다음 첫 번째 단순화 커밋 시작: `[대상명 단순화 1/10] ...`
- 이유:
  - 원본 문서와 단순화 작업을 분리하여 히스토리 관리가 명확해짐
  - 원본 분석이 완료된 시점을 명확히 기록
  - 단순화 커밋들만 따로 확인할 수 있음

### 4. 점진적 단순화 (커밋) 🔧

**기능을 하나씩 삭제하고 매번 커밋합니다.**

- ✅ 기능 하나 선택 → 삭제 → 커밋 → 다음 기능
- ❌ 여러 기능 한 번에 삭제

**이유**: 추적 가능, 되돌리기 쉬움, 리뷰 쉬움

**커밋 메시지 규칙**:
- 명확하게 작성 (예: "[대상명 단순화 1/6] onClick prop 삭제")
- 계획서의 커밋 번호와 반드시 일치

### 5. 단순화 문서 작성 (*-simplified.md) 📝

**⚠️ 중요**: 커밋 정리를 완료 한 후 반드시 이어서 아래의 문서를 작성해야합니다.
- **파일경로:** docs/[카테고리]/[대상명]-simplified.md
- **양식:** (이 저장소) `[타입]/format/simplified.md`

**양식 외 추가 내용**:
- 양식에는 없지만 사용자가 알아가면 좋을 것 같은 내용이 있다면 문서 작성 시 함께 추가하세요.
- 예: 특정 개념에 대한 추가 설명, 유용한 패턴, 주의사항, 실전 팁 등
- 이러한 내용을 발견하면 별도로 제안하지 말고 문서에 바로 포함시키세요.

**⚠️ 별도 커밋 필수**: 단순화 문서 작성을 완료한 후 **반드시 별도의 커밋으로 저장**해야 합니다.
- 단순화 문서 커밋: `git add docs/[카테고리]/[대상명]-simplified.md && git commit -m "docs: [대상명] 단순화 분석 문서 작성"`
- 이유:
  - 단순화 작업의 마무리 시점을 명확히 기록
  - 문서 누락 방지

### 6. 프롬프트 유지보수 🔄

**⚠️ 중요**: 단순화 문서 커밋 후, 아래 체크리스트를 순회하며 업데이트가 필요한지 확인합니다.

이번 작업에서 발견한 새로운 패턴이나 변경사항을 각 문서에 반영하세요:

#### 패턴 문서
- [ ] (이 저장소) `common-keep-patterns.md` — 새로운 공통 유지 패턴 발견?
- [ ] (이 저장소) `common-simplification-patterns.md` — 새로운 공통 삭제 패턴 발견?
- [ ] (간소화 프로젝트) `instructions/keep-patterns.md` — 라이브러리 특화 유지 패턴 추가/수정?
- [ ] (간소화 프로젝트) `instructions/simplification-patterns.md` — 라이브러리 특화 삭제 패턴 추가/수정?

#### 양식 문서
- [ ] (이 저장소) `[타입]/format/original.md` — 원본 분석 양식 개선할 점?
- [ ] (이 저장소) `[타입]/format/simplified.md` — 단순화 분석 양식 개선할 점?
- [ ] (이 저장소) `format/commit.md` — 계획서 양식 개선할 점?

**판단 기준**:
- 이번에 처음 본 패턴인가? → 추가
- 기존 패턴의 예외가 발견됐는가? → 수정
- 다른 라이브러리에도 적용될 패턴인가? → 공통(이 저장소)에 추가
- 이 라이브러리에만 해당되는가? → 특화(간소화 프로젝트)에 추가

---

## 주의 사항

- **반드시 계획서 작성 후 사용자 승인 받기**
- **기능 하나씩 삭제하고 매번 커밋**
- **커밋 메시지와 계획서 번호 일치**
- 기본 동작 유지
- 유지 패턴은 (이 저장소) `common-keep-patterns.md` 및 (간소화 프로젝트) `instructions/keep-patterns.md` 참고
