# 순서 검증

작업이 복잡하여 여러 단계로 나눠야 하는지 확인하고, 필요하다면 아래를 점검하세요.

## 분할 필요 여부 판단

- 하나의 프롬프트에 서로 다른 성격의 작업이 2개 이상 들어있는가
- 앞 단계의 출력이 뒤 단계의 입력이 되는 구조인가

## 단계별 설계

- 각 단계가 하나의 명확한 목표만 가지고 있는지
- 각 단계의 제목이 실제 내용 범위를 정확히 반영하는지
- 단계 간 전달되는 데이터(출력 → 입력)가 명확히 정의되어 있는지
- 각 단계의 완료 조건이 있는지

## 하위 단계의 순서 가시성

파일 간 순서뿐 아니라, 하나의 파일 안에 순서가 있는 작업이 포함된 경우도 점검하세요.

- 파일 내부에 순서를 지켜야 하는 하위 작업이 있다면, 번호 매기기 등으로 순서가 명시적으로 드러나는지
- 순서가 있는 항목과 순서가 없는 항목(체크리스트 등)이 시각적으로 구분되는지
- AI가 읽었을 때 "이 다음에 뭘 해야 하는지"를 판단할 수 있는지

## 검증 루프

- 생성 → 리뷰 → 수정 패턴이 필요한 작업에 검증 단계가 포함되어 있는지
- 단계 완료 후 사용자 승인을 기다리는 게이트가 있는지 (해당 시)

## 자가검진 단계

실수·오판이 발생할 수 있는 단계에, 실행 전 스스로 점검하는 단계가 마련되어 있는지 확인한다.

- 판단이 필요한 단계(분류, 필터링, 우선순위 결정 등)에 "판단 전 자문" 단계가 있는지
- 외부에 출력하는 단계(사용자에게 결과 전달, 파일 수정, 커밋 등)에 "출력 전 검증" 단계가 있는지
- 과거 실수가 반복될 수 있는 단계에 "이전 실수 패턴 확인" 같은 안전장치가 있는지

## 단계 넘버링 규칙

**순서가 보장되어야 하는 작업**이 헤딩으로 표현될 때, 반드시 `Step` 접두어 + dot 넘버링을 사용합니다. 워크플로우 step 파일뿐 아니라, 어떤 문서든 순차 작업이 있으면 동일하게 적용합니다.

| 계층 | 표기 | 예시 |
|------|------|------|
| 상위 | `Step N` | `# Step 1: 배경 파악` |
| 하위 | `Step N.M` | `## Step 1.1. 문서 수집` |
| 3단계 이상 | 사용 금지 | → 문서 분리 신호 |

- "Substep", "Subsubstep", "Phase" 같은 별도 계층 명칭을 만들지 않습니다
- `Step` 접두어가 있으면 "이건 순서를 지켜야 하는 작업"이라는 신호가 즉시 전달됩니다
- 순서가 없는 항목(규칙 나열, 체크리스트, 참조 섹션 등)에는 `Step`을 붙이지 않습니다
- `Step 1.1.1`이 필요해지면 문서 구조 자체를 재검토하세요

## 병렬 처리 가능 여부

- 서로 독립적인 하위 작업은 별도 프롬프트로 분리할 수 있는지 확인했는가