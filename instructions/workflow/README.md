# 개요

이 폴더는 **AI와 함께 효율적으로 코드를 작성하기 위한 전체 프로세스**와 규칙을 담고 있습니다.

모든 작업은 `[배경 파악] -> [전략 수립] -> [계획] -> [상세 명세] -> [구현]`의 단계로 체계적으로 진행됩니다.

---

# AI 행동 가이드

AI는 이 문서를 받았을 때, 다음 플로우를 **순서대로 자동으로** 진행하세요.

## 0. 시작 전 준비

**레포지토리 Context 정보 수집**: `instructions/workflow/template/context-setup.md` 양식에 맞춰 사용자로부터 정보 수집
   - **실무 프로젝트**: 반드시 필요
   - **채용 과제 등**: 없을 수 있음 (생략 가능)

---

## 1. 작업 진행
아래 내용을 순서대로 진행해야하며, 상세내용은 링크에서 순서대로 확인하면 됨.

- [step-1.md](steps/step-1.md) - 문제의 발견과 배경 파악
- [step-2.md](steps/step-2.md) - PR 분할 전략 수립
- [step-3.md](steps/step-3.md) - 핵심 과제 정의 및 기술 전략 수립
- [step-4.md](steps/step-4.md) - 커밋 시퀀스(작업 계획) 작성
- [step-5.md](steps/step-5.md) - 상세 명세 작성
- [step-6.md](steps/step-6.md) - 최종 점검 및 PR & QA 준비


### [CRITICAL] 지켜야 할 원칙

**단계별 승인 대기**:
- 각 단계 완료 후 **반드시 사용자 승인을 받고** 다음 단계로 진행

**⛔ 절대 금지: 사용자의 명시적인 승인 없이 다음 단계로 넘어가기**

❌ **절대 하지 말 것:**
```
핵심 과제 정의 완료!
overview.md 작성 완료했습니다.

(사용자 답변 기다리지 않고)
"문제없으시면 바로 다음 단계로 넘어가서..."
→ 다음 단계 질문 시작
```

✅ **올바른 패턴:**
```
핵심 과제 정의 완료!
"이렇게 간소화한 overview.md가 적절한가요? 수정하거나 추가할 내용이 있으신가요?"

(여기서 멈추고 사용자 응답을 기다림)

사용자: "좋아, 다음 단계 진행해"
→ 그제서야 다음 단계 시작
```

**AI가 먼저 생각을 제시하고 → 사용자 의견을 구하는 패턴**

❌ **나쁜 예:**
- "background.md를 작성했습니다." (그리고 바로 다음 단계 진행)
- "overview.md를 완성했습니다. 다음 단계는..." (승인 안 받고 진행)

✅ **좋은 예:**
- "제가 파악한 문제와 배경은 이렇습니다. 사용자님은 어떻게 생각하시나요?" (멈추고 대기)
- "이런 기술적 난제들이 있을 것 같고, 각각 이런 선택지들이 있습니다. 어떻게 생각하시나요?" (멈추고 대기)
- "커밋 순서를 이렇게 잡았는데, 더 나은 방법이 있을까요?" (멈추고 대기)

**핵심:**
- ❌ "시킨 대로 했습니다" (X)
- ✅ "시킨 방식 A도 가능하지만, B가 더 나은 이유는... 어떻게 생각하시나요?" (O)
- ✅ "이 md 파일의 X 부분을 Y로 바꾸면 더 명확할 것 같습니다" (O)
- ⛔ 사용자가 명시적으로 다음 단계를 지시하기 전까지 절대 넘어가지 말 것

**역질문**:
- 정보 부족 시 사용자에게 질문

**누락 방지**:
- 매 단계 최종 검토 필수

**역주행 금지 (구현 단계 진입 후 동기화 지양)**:
- **상세 설계 및 구현 단계 (`tasks/*.md` 작성 및 코딩 시작 후)**: 본격적인 작업이 시작되면, 기획이 변경되더라도 이전 계획 문서(`overview.md` 등)를 수정하기 위해 **되돌아가지 마세요.**
- **AI의 제지 의무**: 상세 명세 작성(`tasks/`)이나 코딩 중에 사용자가 "기획 문서(`overview.md`)를 수정하자"고 하면, **"지금 되돌아가면 흐름이 끊깁니다. 변경 사항은 코드에 바로 반영하고, 나중에 기획서 원본문서와 대조하는게 효율적입니다."**라고 제안하세요.
- **전진(Forward Only)**: 문서는 완벽할 필요가 없습니다. 구현 단계에서는 변경 사항을 현재 작업물에 반영하며 앞으로 나아가세요. 완벽해야하는건 우리가 작성한 md가 아니라 기획서, 디자인같은 산출물입니다.

**이전 산출물 계승 및 최신화 (Context Loading & Re-validation)**:
- **다시 읽고 시작하세요**: 사용자는 승인 과정에서 AI가 작성한 산출물을 직접 수정할 수 있습니다. 따라서 각 단계를 시작하기 전, **반드시 직전 단계의 산출물(`background.md`, `codebase-audit.md` 등)을 다시 읽어(read_file)** 사용자의 수정 사항을 확인하고 내용을 최신화해야 합니다.
- **기억 의존 금지**: 자신이 작성했던 내용이라도 절대 기억(Memory)에 의존하지 말고, 파일의 현재 상태를 기준으로 다음 단계를 진행하세요.
- **맥락 반영**: 최신화된 분석 내용(제약 사항, 기획 의도 등)을 현재 작성 중인 문서에 녹여내야 합니다.

**사용자의 산출물 이해 의무 (User Understanding)**:
- **⚠️ [CRITICAL] 각 단계 완료 후, 사용자는 반드시 작성된 산출물을 충분히 이해하고 다음 단계로 넘어가야 합니다.**
- **AI의 필수 안내**: 각 단계마다 산출물 작성 후, AI는 사용자에게 다음을 반드시 확인해야 합니다:
  - "작성한 문서를 모두 읽고 이해하셨나요?"
  - "이해가 안 되는 부분이 있으신가요?"
  - "불필요하거나 잘못 작성된 내용이 있으신가요?"
- **이유**:
  - 사용자가 이전 단계의 산출물을 이해하지 못한 상태에서 다음 단계로 넘어가면, 잘못된 방향으로 작업이 진행됩니다.
  - 특히 Step 1의 기획서/디자인은 사용자가 AI에게 제공하기 전에 충분히 이해한 상태여야 합니다.
  - 각 단계의 산출물(background.md, overview.md, commit-sequence.md 등)도 마찬가지로 충분히 이해하고 넘어가야 합니다.
- **대응**: 이해가 안 되거나 불필요한 내용이 있다면, 즉시 수정하고 넘어가야 합니다. 나중에 수정하면 모든 하위 단계를 다시 해야 할 수 있습니다.