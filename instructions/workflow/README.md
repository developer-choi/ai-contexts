# 워크플로우 개요

AI와 함께 효율적으로 코드 작성하기 위한 전체 프로세스입니다.

---

## 시작 전 준비

### AI 안내
- `instructions/workflow/template/context-setup.md` 양식으로 레포지토리 Context 수집
  - **실무 프로젝트**: 필수
  - **채용 과제 등**: 생략 가능

---

## ⛔ 금지 작업

사용자가 요청 시 제지하고 직접 수행 안내:

### 1. 라이브러리 초기 셋팅
- 새로운 라이브러리/프레임워크의 초기 설치 및 환경 구성
- 이유: 공식 문서 보고 사용자가 직접 구축

### 2. 역주행 금지
- 구현 단계 진입 후 계획 문서(`/plan/pr{N}/overview.md`) 수정 위해 되돌아가지 말기
- 기획 변경 시 코드에 바로 반영, 나중에 기획서와 대조
- **전진(Forward Only)**: 문서는 완벽할 필요 없음. 완벽해야 할 건 기획서, 디자인

---

## 작업 진행 순서

### 초기 1회 (전체 작업 시작 시)

| 단계 | 내용 | Plan Mode |
|------|------|-----------|
| [step-1.md](steps/step-1.md) | 배경 파악 및 문제 정의 | 선택적 (버그/성능 문제 시) |
| [step-2.md](steps/step-2.md) | PR 분할 전략 수립 | 선택적 (Codebase Audit 시) |

### PR마다 반복 (Step 3 ~ 8)

| 단계 | 내용 | Plan Mode |
|------|------|-----------|
| [step-3.md](steps/step-3.md) | 핵심 과제 정의 및 기술 전략 수립 | **필수** |
| [step-4.md](steps/step-4.md) | 구현 방침 상세화 | **필수** |
| [step-5.md](steps/step-5.md) | 구현 | **Phase마다 필수** |
| [step-6.md](steps/step-6.md) | 최종 점검 | 불필요 |
| [step-7.md](steps/step-7.md) | PR 본문 작성 | 불필요 |
| [step-8.md](steps/step-8.md) | 워크플로우 회고 | 불필요 |

> PR #1 완료 후 PR #2를 시작할 때는 Step 3부터 진행합니다. `background.md`와 `project.md`는 이미 작성되어 있으므로 Step 1~2는 스킵합니다.

### Plan Mode란?
Claude Code의 plan mode는 **코드를 수정하기 전에 코드베이스를 탐색하고 구현 전략을 수립**하는 모드입니다. 코드 탐색이 필요한 단계에서 활용하면 AI가 근거 있는 판단을 내릴 수 있습니다.

---

## [CRITICAL] 지킬 원칙

### 기억 의존 금지
- 각 단계 시작 전 직전 산출물(`background.md`, `codebase-audit.md` 등) 다시 읽기
- 기억 의존 금지, 파일 현재 상태 기준으로 진행
- 최신화된 분석 내용을 현재 작성 중인 문서에 반영
- **파일 편집 전 반드시 현재 내용 읽기**: 읽지 않고 편집하면 중복 삽입, 의도하지 않은 덮어쓰기 발생

### 단계별 승인 대기
- 각 단계 완료 후 **반드시 사용자 승인** 후 다음 단계

### 자가 검토 필수
- 각 step 산출물을 사용자에게 보고하기 전, 자가 검토 수행
- 검토 결과를 구체적으로 사용자에게 함께 보고 (무엇을 검토했고, 어떤 판단을 내렸는지)
- "검토했다"로 끝내지 말고, 검토 내용이 보고에 포함되어야 한다

### AI 패턴
- 먼저 생각 제시 → 사용자 의견 구하기 (멈추고 대기)
- 정보 부족 시 역질문