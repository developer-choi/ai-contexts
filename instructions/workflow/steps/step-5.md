# Step 5: ìƒì„¸ ëª…ì„¸ ì‘ì„± (Task Refinement)

ì´ ë‹¨ê³„ëŠ” `/plan/commit-sequence.md`ì— ì •ì˜ëœ ê° ì»¤ë°‹ ë‹¨ìœ„ ì‘ì—…ì„ êµ¬ì²´í™”í•˜ì—¬ **ìµœì¢… ê°œë°œ ëª…ì„¸ì„œ**ë¥¼ ì™„ì„±í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.

> **[roadmap](instructions/self-help/roadmap.md) ì—°ê²°**: 4ë‹¨ê³„ - êµ¬í˜„ì˜ ì—¬ì •
>
> ì„ íƒí•œ ê¸°ìˆ ì„ ì‹¤ì œë¡œ ì–´ë–»ê²Œ ì ìš©í–ˆëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤.
> - **êµ¬í˜„ ìƒì„¸**: êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–»ê²Œ ì½”ë“œë¡œ êµ¬í˜„í–ˆëŠ”ê°€?
> - **ê¸°ìˆ ì  ë‚œê´€**: êµ¬í˜„ ê³¼ì •ì—ì„œ ë§ˆì£¼ì¹œ ì—£ì§€ ì¼€ì´ìŠ¤ë‚˜ ì˜ˆìƒì¹˜ ëª»í•œ ë¬¸ì œëŠ” ë¬´ì—‡ì´ì—ˆëŠ”ê°€?

ê° ì»¤ë°‹ì— ëŒ€í•œ **ìƒì„¸ ëª…ì„¸ì„œ**ë¥¼ `/plan/tasks/` í´ë” ì•„ë˜ì— ìƒì„±í•´ì£¼ì„¸ìš”.

**íŒŒì¼ ëª…ëª… ê·œì¹™**: `/plan/tasks/[ìˆœì„œ]-[ì‘ì—…í‚¤ì›Œë“œ].md` (ì˜ˆ: `/plan/tasks/01-feat-button.md`)

---

## ì‘ì„± ì‹œì‘ ì „ ì¤€ë¹„

### 1. í”„ë¡œì íŠ¸ë³„ ê³µí†µ ë¬¸ì„œ ì½ê¸°
- **`instructions/conventions/README.md`** ë¨¼ì € ì½ê¸°
- ì‚¬ìš©ì ìš”ì²­ ì˜ë„ì— ë”°ë¼ `common/`, `coding/`, `testing/`, `review/` í´ë”ì˜ ë¬¸ì„œë¥¼ ì„ ë³„ì ìœ¼ë¡œ ë¡œë“œ
- Step 1~5 ì§„í–‰ ì¤‘ í•„ìš”ì— ë”°ë¼ ì¶”ê°€ ì°¸ì¡°

---

## [CRITICAL] í•„ìˆ˜ ì¤€ìˆ˜ ì‚¬í•­

### 1. ì§„í–‰ ìƒí™© ë™ê¸°í™” (commit-sequence.md ì—…ë°ì´íŠ¸)
- **ìƒì„¸ ë‚´ìš© ì‚­ì œ, ì œëª© ìœ ì§€**: íŠ¹ì • ì»¤ë°‹ì— ëŒ€í•œ ìƒì„¸ ëª…ì„¸ì„œ(`tasks/*.md`) ì‘ì„±ì´ ì™„ë£Œë˜ë©´, `/plan/commit-sequence.md`ì—ì„œ í•´ë‹¹ í•­ëª©ì˜ **í•˜ìœ„ ìƒì„¸ ì‘ì—… ë‚´ìš©ì€ ì¦‰ì‹œ ì‚­ì œ**í•˜ì„¸ìš”.
- **ì œëª©(ì»¤ë°‹ ë©”ì‹œì§€)ì€ ìœ ì§€**: ì–´ë–¤ ë‹¨ê³„ì˜ ì„¤ê³„ê°€ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì‹œê°ì ìœ¼ë¡œ ì•Œ ìˆ˜ ìˆë„ë¡ ì œëª© ë¼ì¸ë§Œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤.

**ì—…ë°ì´íŠ¸ ì˜ˆì‹œ (`commit-sequence.md`)**:

**âŒ Bad (ìƒì„¸ ë‚´ìš©ì´ ê·¸ëŒ€ë¡œ ë‚¨ì€ ê²½ìš°)**
```markdown
- [feat]: ë„¤ì´í‹°ë¸Œ ë¸Œë¦¿ì§€ íƒ€ì… ì •ì˜
  - ë¸Œë¦¿ì§€ ë©”ì‹œì§€ íƒ€ì… ì •ì˜ (ê¶Œí•œ, ëª¨ë‹¬ ì •ë³´)
  - ëª¨ë‹¬ ë‹«íŒ ì •ë³´ íƒ€ì… ì •ì˜ (ì¢…ë¥˜, ì‹œê°)
```

**âœ… Good (ìƒì„¸ ì„¤ê³„ ì™„ë£Œ í›„ ì œëª©ë§Œ ë‚¨ê¸°ì„¸ìš”)**
```markdown
- [feat]: ë„¤ì´í‹°ë¸Œ ë¸Œë¦¿ì§€ íƒ€ì… ì •ì˜
```

### 2. ìƒì„¸ ìŠ¤í™ ì‘ì„± ì›ì¹™ (ë¡œì§ ì¤‘ì‹¬, ì½”ë“œ ë°°ì œ)
- **[CRITICAL] ì½”ë“œ ë¸”ë¡(```) ì‚¬ìš© ê¸ˆì§€**: ë³€ìˆ˜ëª…ì´ë‚˜ í•¨ìˆ˜ëª…ì€ ì¸ë¼ì¸ ì½”ë“œ(\` \`)ë¡œ ì–¸ê¸‰í•˜ë˜, êµ¬í˜„ ì½”ë“œë¥¼ í†µì§¸ë¡œ ì‘ì„±í•˜ëŠ” ë©€í‹°ë¼ì¸ ì½”ë“œ ë¸”ë¡ì€ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”.
- **ë…¼ë¦¬ì  ì„œìˆ **: "A í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ B ê°’ì„ í™•ì¸í•˜ê³ , ì¡°ê±´ Cë¥¼ ë§Œì¡±í•˜ë©´ Dë¥¼ ì‹¤í–‰í•œë‹¤"ì™€ ê°™ì´ **ìì—°ì–´**ë‚˜ **ìˆœì„œë„(Flow)**ë¡œ ë¡œì§ì„ ì„¤ëª…í•˜ì„¸ìš”.
- **ì˜ë„ ëª…ì‹œ**: "ì™œ ì´ ë¡œì§ì´ í•„ìš”í•œì§€", "ì–´ë–¤ ì—£ì§€ ì¼€ì´ìŠ¤ë¥¼ ë§‰ì•„ì•¼ í•˜ëŠ”ì§€"ì— ì§‘ì¤‘í•˜ì„¸ìš”.
- **ì˜ˆì™¸ ì²˜ë¦¬ ë³´ì™„**: ì‚¬ìš©ìê°€ ì œê³µí•œ ì •ë³´ë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì§€ ë§ê³ , ê°œë°œì ê´€ì ì—ì„œ ëˆ„ë½ëœ ì˜ˆì™¸ ìƒí™©ì„ ë³´ì™„í•˜ì„¸ìš”.

### 3. ë¬¸ì„œì˜ ì¼íšŒì„±
- **ì»¤ë°‹ í›„ ê°€ì¹˜ ì†Œë©¸**: `tasks/*.md` ë¬¸ì„œëŠ” í•´ë‹¹ ì»¤ë°‹ì„ ì‘ì„±í•˜ê¸° ìœ„í•œ **ì„ì‹œ ì„¤ê³„ë„**ì…ë‹ˆë‹¤.
- **ìµœì‹ í™” ë¶ˆí•„ìš”**: ì½”ë“œê°€ ì»¤ë°‹(`git commit`)ëœ ì´í›„ì—ëŠ”, ì‹¤ì œ ì½”ë“œê°€ Source of Truthê°€ ë©ë‹ˆë‹¤. ë‚˜ì¤‘ì— ë¡œì§ì´ ë³€ê²½ë˜ë”ë¼ë„ ì´ ë¬¸ì„œë¥¼ ë‹¤ì‹œ ì—´ì–´ ìˆ˜ì •(ë™ê¸°í™”)í•˜ì§€ ë§ˆì„¸ìš”.

---

## ê³µí†µ ì‘ì„± í•­ëª© (ëª¨ë“  ì‘ì—… í•„ìˆ˜)

ëª¨ë“  ì‘ì—… ëª…ì„¸ì„œëŠ” ë‹¤ìŒ í•­ëª©ë“¤ì„ ë°˜ë“œì‹œ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.

### 1. ê°œìš”
- **ì‘ì—… íŒŒì¼**: ìƒì„± ë˜ëŠ” ìˆ˜ì •í•  íŒŒì¼ì˜ ê²½ë¡œ (ì˜ˆ: `src/components/.../FileName.tsx`)
- **ëª©ì **: ì´ ì‘ì—…ì´ ì™œ í•„ìš”í•œì§€ ì„¸ ì¤„ ë¯¸ë§Œ ìš”ì•½.

### 2. ì°¸ê³  ìë£Œ
- ì‘ì—…ì˜ ê·¼ê±°ê°€ ë˜ëŠ” ë¬¸ì„œ ë° ê¸°ì¡´ ì½”ë“œë¥¼ ë§í¬í•©ë‹ˆë‹¤.
- **í•„ìˆ˜ í¬í•¨**: `/plan/background.md`, `/plan/codebase-audit.md`, `/plan/overview.md`, `/plan/commit-sequence.md`
- **ì¶”ê°€ í¬í•¨**: ê´€ë ¨ëœ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ë¦¬í‹°, ë˜ëŠ” ì°¸ê³ í•  ì»¤ë°‹ ë§í¬.

### 3. ì˜ˆìƒ ì˜í–¥ ë²”ìœ„
- **ìˆ˜ì •ë˜ëŠ” íŒŒì¼**: ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤ë©´ í•´ë‹¹ íŒŒì¼ ëª©ë¡.
- **ì˜ì¡´ ê´€ê³„**: ì´ ì‘ì—…ì´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸/í•¨ìˆ˜ì— ë¯¸ì¹˜ëŠ” ì˜í–¥.

### 4. í•µì‹¬ ë¡œì§ ì„¤ê³„ (Core Logic Design)
- **[CRITICAL] ì‹¤ì œ ì½”ë“œ ì‘ì„± ê¸ˆì§€**: `const`, `function`, `async/await`, `useCallback` ë“± ì‹¤ì œ êµ¬í˜„ ì½”ë“œë¥¼ ì ˆëŒ€ ì‘ì„±í•˜ì§€ ë§ˆì„¸ìš”.
- ëŒ€ì‹  **ì˜ì‚¬ ì½”ë“œ(Pseudo-code)**, **ë…¼ë¦¬ì  ë‹¨ê³„(Flow)**, ë˜ëŠ” **í…ìŠ¤íŠ¸ ì„œìˆ **ì„ í†µí•´ ë¡œì§ì˜ íë¦„ê³¼ í˜¸ì¶œí•  ë©”ì„œë“œë§Œ ê¸°ìˆ í•˜ì„¸ìš”.
- ê°œë°œìê°€ êµ¬í˜„ ë°©ì‹(How)ì„ ê³ ë¯¼í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìˆ˜í–‰í•´ì•¼ í•  ë…¼ë¦¬(What)ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ëª©ì ì…ë‹ˆë‹¤.

**âŒ Bad (ì‹¤ì œ ì½”ë“œ ì‘ì„± - ê¸ˆì§€)**
```typescript
const handleAccept = async () => {
  const status = await notification.checkPermission();
  if (status === 'GRANTED') {
    toggleNotification('PROMOTION', true);
  }
};
```

**âœ… Good (ë¡œì§ íë¦„ ì„œìˆ  - ê¶Œì¥)**
1. `notification.checkPermission()` í˜¸ì¶œí•˜ì—¬ ê¶Œí•œ ìƒíƒœ í™•ì¸
2. **GRANTED ìƒíƒœì¸ ê²½ìš°**:
   - `toggleNotification('PROMOTION', true)` API í˜¸ì¶œ
   - ì„±ê³µ í† ìŠ¤íŠ¸ ë…¸ì¶œ (í¬ë§·: `... (${dayjs().format('YYYY.MM.DD')})`)
   - `onAccept()` í˜¸ì¶œí•˜ì—¬ ëª¨ë‹¬ ë‹«ê¸°
3. **ê·¸ ì™¸ ìƒíƒœì¸ ê²½ìš°**:
   - `onOpenNotificationPermissionModal()` í˜¸ì¶œí•˜ì—¬ ê¸°ê¸° ì„¤ì • ìœ ë„ ëª¨ë‹¬ ì˜¤í”ˆ

---

## [AI í•„ìˆ˜] Task Detail ì‘ì„± ì™„ë£Œ ì‹œ ì•ˆë‚´

3-5ê°œì˜ Task Detail ì‘ì„±ì„ ì™„ë£Œí•  ë•Œë§ˆë‹¤ ì‚¬ìš©ìì—ê²Œ ë¬¼ì–´ë³´ì„¸ìš”:

> "Task 1, 2, 3, 4, 5 ëª…ì„¸ ì‘ì„± ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.
>
> **ì‘ì„±í•œ Task Detail ë¬¸ì„œë“¤ì„ ëª¨ë‘ ì½ê³  ì´í•´í•˜ì…¨ë‚˜ìš”?**
> - `/plan/tasks/01-xxx.md`
> - `/plan/tasks/02-xxx.md`
> - ...
>
> - êµ¬í˜„í•´ì•¼ í•  ë‚´ìš©ì´ ëª…í™•í•œê°€ìš”?
> - ì´í•´ê°€ ì•ˆ ë˜ê±°ë‚˜ ë¶ˆí•„ìš”í•œ ë‚´ìš©ì´ ìˆë‚˜ìš”?
>
> âš ï¸ **Task Detailì„ ì¶©ë¶„íˆ ì´í•´í•˜ì§€ ëª»í•œ ìƒíƒœì—ì„œ êµ¬í˜„í•˜ë©´, ì˜ëª»ëœ ì½”ë“œê°€ ì‘ì„±ë©ë‹ˆë‹¤.**
>
> **ì´í•´ê°€ ì•ˆ ë˜ê±°ë‚˜ ë¶ˆí•„ìš”í•œ ë‚´ìš©ì´ ìˆë‹¤ë©´ ì§€ê¸ˆ ìˆ˜ì •í•˜ê³  ë„˜ì–´ê°€ì•¼ í•©ë‹ˆë‹¤.**
>
> **ë‹¤ìŒ ì„ íƒì§€**:
> - A. ì´ 5ê°œë¥¼ ë¨¼ì € ì»¤ë°‹ìœ¼ë¡œ êµ¬í˜„í•˜ê¸° (ì¶”ì²œ)
> - B. ì•„ì§ ì˜®ê¸°ì§€ ëª»í•œ commit-sequence í•­ëª©ì„ Task Detail ë¬¸ì„œë¡œ ì˜®ê¸°ê¸°
>
> ì–´ë–»ê²Œ ì§„í–‰í• ê¹Œìš”?"

---

## [AI í•„ìˆ˜] ì»¤ë°‹ ì™„ë£Œ í›„ ì•ˆë‚´

ê° ê·¸ë£¹ì˜ ì»¤ë°‹ êµ¬í˜„ì´ ì™„ë£Œë  ë•Œë§ˆë‹¤ ì‚¬ìš©ìì—ê²Œ ë‹¤ìŒê³¼ ê°™ì´ ì•ˆë‚´í•˜ì„¸ìš”:

> "Task 1, 2, 3, 4, 5 êµ¬í˜„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.
>
> **ğŸ” AI êµ¬í˜„ ì½”ë“œ ë¦¬ë·° í•„ìˆ˜**:
>
> âš ï¸ **êµ¬í˜„ëœ ì½”ë“œë¥¼ ë°˜ë“œì‹œ í™•ì¸í•˜ê³  ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.**
>
> - AIê°€ ì‘ì„±í•œ ì»¤ë°‹ì—ëŠ” **ë¶„ëª… ì˜ëª» êµ¬í˜„ëœ ë¶€ë¶„ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤**
> - **ì§€ê¸ˆ ë°˜ë“œì‹œ ë¦¬ë·°í•´ì£¼ì„¸ìš”:**
>   - Task Detailì´ ê¸°íšì„œì™€ ë‹¤ë¥´ê²Œ ì‘ì„±ë˜ì–´ ì˜ëª»ëœ êµ¬í˜„ì´ ìˆë‚˜ìš”?
>   - êµ¬í˜„ëœ ì½”ë“œê°€ Task Detailê³¼ ë‹¤ë¥´ê²Œ ì‘ì„±ë˜ì§€ ì•Šì•˜ë‚˜ìš”?
>   - êµ¬í˜„ëœ ì½”ë“œì˜ ë¡œì§ì„ ì´í•´í•˜ì…¨ë‚˜ìš”?
>   - ì´í•´ê°€ ì•ˆ ë˜ê±°ë‚˜ ì˜ëª»ëœ ë¶€ë¶„ì´ ìˆë‚˜ìš”?
>
> - **IDEì˜ "Compare with Local" ê¸°ëŠ¥**ì„ ì‚¬ìš©í•˜ë©´ ì „ì²´ ë³€ê²½ì‚¬í•­ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤
>   - Squashë¡œ í•©ì¹˜ê¸° ì „ì— ë³€ê²½ì‚¬í•­ ì „ì²´ë¥¼ í™•ì¸í•˜ëŠ” ê²Œ Conflictê°€ ëœ ë‚˜ê³  ì¢‹ìŠµë‹ˆë‹¤.
>
> âš ï¸ **ì½”ë“œë¥¼ ì¶©ë¶„íˆ ì´í•´í•˜ì§€ ëª»í•œ ìƒíƒœì—ì„œ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ë©´, ë‚˜ì¤‘ì— ë””ë²„ê¹…ì´ë‚˜ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ ë¬¸ì œê°€ ë©ë‹ˆë‹¤.**
>
> **ğŸ“ Task Detail ë¬¸ì„œ ì •ë¦¬**:
> êµ¬í˜„ ì™„ë£Œëœ Task Detail ë¬¸ì„œ(`tasks/task-001.md` ë“±)ëŠ” ì´ì œ ì„ì‹œ ë¬¸ì„œë¡œ ì—­í• ì´ ëë‚¬ìŠµë‹ˆë‹¤.
> - ê¸°ì¡´ Task Detail ì½ì–´ë³´ì‹œê³  **ì½”ë“œë¡œ ì˜®ê²¨ì§„ ë‚´ìš©ì€ ì‚­ì œí•˜ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤**
> - ì™„ì „íˆ ì‚­ì œí•´ë„ ë©ë‹ˆë‹¤ (ì½”ë“œê°€ source of truth)
> - ë˜ëŠ” ì°¸ê³ ìš©ìœ¼ë¡œ ë‚¨ê²¨ë‘¬ë„ ë©ë‹ˆë‹¤
>
> **ì§„í–‰ ìƒí™©**:
> - ì™„ë£Œ: Task 1~5 (5ê°œ)
> - ë‚¨ìŒ: commit-sequence 6~15ë²ˆ (10ê°œ)
>
> **ë‹¤ìŒ ê·¸ë£¹ ì œì•ˆ**:
> ë‹¤ìŒì€ 6~10ë²ˆ (Hook ê´€ë ¨)ì„ ì§„í–‰í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ì€ë°, ì–´ë–»ê²Œ ìƒê°í•˜ì„¸ìš”?
>
> **êµ¬í˜„ ì¤‘ ë¬¸ì œ ë°œê²¬ ì‹œ ëŒ€ì‘**:
> - ìˆœì„œ ë³€ê²½ í•„ìš”: ì½”ë“œì— ë°”ë¡œ ë°˜ì˜ (Task Detail ìˆ˜ì • X, ì—­ì£¼í–‰ ê¸ˆì§€ ì›ì¹™)
> - ì¶”ê°€ ì‘ì—… í•„ìš”: ì¦‰ì‹œ ì»¤ë°‹ ì¶”ê°€ vs commit-sequence ì—…ë°ì´íŠ¸ ì¤‘ ì„ íƒ
> - Task Detailê³¼ ë‹¤ë¥´ê²Œ êµ¬í˜„í•´ì•¼ í•¨: Task Detailì€ stale ìƒíƒœë¡œ ë‘ê³  ì½”ë“œì— ë°˜ì˜