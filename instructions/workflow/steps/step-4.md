# Step 4: 구현 방침 상세화

> **Plan mode 필수**. Step 3에서 **사용자가 승인한 과제에 대해서만** 구현 방침을 작성합니다. AI가 자체적으로 정의한 과제를 검증 없이 구현 방침까지 쓰는 것을 방지하기 위해, Step 3과 Step 4는 반드시 별도 세션으로 진행합니다.

---

## 작성 목적

- Step 3: "무엇을(What) 선택할 것인가"
- Step 4: "어떻게(How) 구현할 것인가"의 큰 그림

---

## 추가할 내용

`/plan/pr{N}/overview.md`를 먼저 읽고, 아래 항목 중 **아직 없는 것만** overview.md의 기존 구조에 자연스럽게 녹여 넣으세요. 양식은 고정하지 않습니다.

- 상태별 대응 (로딩, 성공, 실패, 엣지 케이스)
- 핵심 흐름 (3-5단계 요약)
- 수정/추가할 파일 목록
  - 신규 파일은 분리 근거를 명시할 것 (재사용, 복잡도, 테스트 단위 등)
  - 한 곳에서만 쓰이는 코드라면 같은 파일에 배치하는 것이 기본
- 중요한 비즈니스 로직 (2주 재노출 기준 등)
- 중요한 분기점

> **⚠️ 핵심 원칙**: Step 3이 이미 기술 선택·결정·근거를 다루고 있으므로, 이를 반복하면 안 된다.

### 쓰지 않을 것
- Props 타입 상세 정의
- 변수명/함수명
- 10단계 이상 상세 로직 (5단계 이내로)
- 에러 메시지 문구
- 스타일링 가이드 (CSS, tailwind 클래스)
- 데이터 포맷

---

## [CRITICAL] PR 분할 재검토

작업량이 많아 보이면 PR 더 쪼개야 한다는 신호:

- 예상 커밋 **8개 이상**
- 수정/추가 파일 **10개 이상**
- 독립적 기능이 하나의 PR에 묶임

> "작업량이 많은 것 같습니다.
> - 수정/추가 파일: [N]개
> - 예상 커밋: [M]개
>
> PR 분할하는 게 좋을 것 같습니다. 어떻게 생각하세요?"

동의 시 Step 2로 돌아가 `project.md` 업데이트 후 현재 PR 범위 축소

---

## [CRITICAL] 사용자 확인 필수

구현 방침 추가 완료 후 사용자에게 확인:

> "구현 방침 추가 완료.
>
> **추가된 구현 방침을 읽고 이해하셨나요?**
> - 로딩/성공/실패/엣지 케이스 대응이 명확한가요?
> - 영향 범위가 적절한가요?
> - 수정할 부분이 있으신가요?
>
> ⚠️ **이해 못한상태에서 구현을 시작하면 구현 시 문제가 발생합니다.**
>
> 이해하셨으면 승인해주세요."
