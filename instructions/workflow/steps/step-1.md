# Step 1: 배경 파악 및 문제 정의

작업의 **배경**, **목적**, **문제가 있다면 Root Cause**를 명확히 합니다.

---

## Plan Mode (선택적)

버그/성능 문제로 **Root Cause 파악에 코드 탐색이 필요한 경우** plan mode로 진행하세요.
단순 기능 추가처럼 사용자 제공 자료만으로 충분한 경우에는 불필요합니다.

---

## 프로젝트 유형 확인

Step 1 시작 시, 사용자에게 프로젝트 유형을 확인합니다.

**채용 과제인 경우:**
- `/plan/requirement.md` 작성을 안내합니다.
- 다음 2가지를 포함해야 합니다:
  1. **메일 내용**: 채용 담당자가 보낸 안내 메일 전문
  2. **과제 내용**: 과제 설명 문서 전문
- 이 문서는 Step 9(제출 마무리)에서 다시 참조됩니다.

---

## 필수 제공 자료

최소 1개 이상: 기획서, 피그마, 회의록, 이슈 티켓, 개발 설계 문서

---

## 작성 원칙

### 1. 문제 여부 판단
- **YES (문제/버그/성능저하 있음)** → "1. 문제 정의" 작성 + Root Cause 필수
- **NO (단순 기능 추가)** → "1. 문제 정의" 생략, "2. 목표 및 대상"부터 작성

### 2. 증상 vs 근본 원인 구분
- **❌ Bad**: "API가 느려요"
- **✅ Good**:
  - 증상: "게시글 목록 조회 API 응답 3초 (목표: 500ms)"
  - Root Cause: "DB 인덱스 없어 Full Table Scan + N+1 쿼리"

### 3. 간결함 유지
- 3-5문장으로 핵심만
- "왜"에 집중 ("무엇"과 "어떻게"는 다음 단계에서)

---

## 작성 예시 (`/plan/background.md`)

### 예시 1: 문제/버그 있는 경우

```markdown
## 1. 문제 정의

- **증상**: 마케팅 수신거부 유저 비율 78%
- **발견 경로**: 마케팅팀 월간 리포트
- **비즈니스 임팩트**: Push 도달률 22%로 프로모션 효과 급감
- **Root Cause**:
  - 온보딩 첫 화면에서 너무 이른 시점에 Push 권한 팝업 노출
  - 거부 후 재동의 유도 UI/UX 부재

## 2. 목표 및 대상
- **목표**: 인앱에서 수신 동의 독려, 도달률 40% 개선
- **대상**: 마케팅 수신 OFF 유저 (78만명)

## 3. 참고 자료
- [피그마 - 마케팅 독려](https://figma.com/...)
```

### 예시 2: 단순 기능 추가

```markdown
## 1. 목표 및 대상

- **목표**: 검색 필터 기능 추가로 상품 빠른 찾기
- **대상**: 전체 쇼핑몰 이용자

## 2. 참고 자료
- [기획서 - 검색 필터](https://...)
```

---

## [CRITICAL] 다음 단계로 넘어가기 전 필수 확인

**⚠️ background.md 작성을 완료한 후, 다음 단계(PR 분할 전략 수립)로 넘어가기 전에 사용자 확인이 필요합니다.**

### AI의 필수 질문 (다음 단계 진행 전)

background.md 작성을 완료한 후, 사용자에게 다음과 같이 물어보세요:

> "background.md 작성이 완료되었습니다.
>
> 다음 단계(PR 분할 전략 수립)로 넘어가기 전에 확인이 필요합니다.
>
> **작성한 background.md의 내용을 모두 읽고 이해하셨나요?**
>
> - 문제 정의나 목표가 명확한가요?
> - 이해가 안 되는 부분이 있으신가요?
> - 불필요하거나 잘못 작성된 내용이 있으신가요?
>
> ⚠️ **background.md를 충분히 이해하지 못한 상태에서 다음 단계로 넘어가면, 잘못된 전략 수립과 계획 작성으로 이어져 전체 작업이 틀어질 수 있습니다.**
>
> **이해가 안 되거나 불필요한 내용이 있다면 지금 수정하고 넘어가야 합니다.**
>
> 모든 내용을 이해하셨다면 승인해주세요.
>
> ---
>
> **다음 단계(Step 2: PR 분할 전략 수립)를 진행하시겠습니까?**"