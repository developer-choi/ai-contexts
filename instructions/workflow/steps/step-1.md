# Step 1: 배경 파악 및 문제 정의

이 단계는 작업의 **배경**, **목적**, 그리고 **문제가 있다면 Root Cause**를 명확히 하고, 관련 자료를 정리하는 단계입니다.

> **[roadmap](instructions/self-help/roadmap.md) 연결**:
>
> - **문제/버그가 있는 경우**: roadmap 1-2단계(문제의 발견과 Root Cause 찾기) 수행 필수
> - **단순 기능 추가인 경우**: Root Cause 불필요, 배경/목적만 정리
>
> ⚠️ **중요**: "로딩이 느리다", "에러가 발생한다"는 **증상(Symptom)**입니다.
> 문제가 있다면, 증상을 덮는 것이 아니라 **근본 원인(Root Cause)**을 찾아야 합니다.

---

## 필수 제공 자료

사용자는 최소 1개 이상의 자료를 제공해야 합니다:
- 기획서
- 피그마 디자인
- 회의록 또는 회의 요약본
- 이슈 티켓
- 간단한 개발 설계 문서

---

## 작성 원칙

### 1. 문제 여부 판단하기 (첫 번째 질문)
- **질문**: "해결해야 할 문제/버그/성능 저하가 있는가?"
  - **YES** → "1. 문제 정의" 섹션 작성 + Root Cause 찾기 필수
  - **NO** → "1. 문제 정의" 섹션 생략, "2. 목표 및 대상"부터 작성

### 2. 증상 vs 근본 원인 구분하기 (문제가 있을 때만)
- **❌ Bad (현상만 나열)**: "API가 느려요"
- **✅ Good (구체적 증상 + Root Cause)**:
  - 증상: "게시글 목록 조회 API 응답 시간이 평균 3초 소요 (목표: 500ms 이내)"
  - Root Cause: "DB 쿼리에 인덱스가 없어 Full Table Scan 발생 + N+1 쿼리 문제"

### 3. 비즈니스 임팩트 수치화
- **❌ Bad (모호함)**: "사용자 경험이 안 좋아요"
- **✅ Good (측정 가능)**: "이탈률 15% → 28%로 상승, 월 매출 약 500만원 손실 추정"

### 4. 간결함 유지
- 3-5문장으로 핵심만 작성
- "왜"에 집중 (구체적인 "무엇"과 "어떻게"는 다음 단계에서)

---

---

## [CRITICAL] 작업 시작 전 필수 확인

**⚠️ 사용자는 기획서, 디자인, 회의록 등 참고 자료를 AI에게 제공하기 전에 반드시 충분히 이해한 상태여야 합니다.**

### AI의 필수 안내 (작업 시작 전)

background.md 작성을 시작하기 전에 사용자에게 다음과 같이 안내하세요:

> "background.md를 작성하기 전에 확인이 필요합니다.
>
> **제공해주신 자료(기획서, 디자인, 회의록 등)를 모두 이해하셨나요?**
>
> - 기획 의도나 요구사항이 명확하신가요?
> - 불분명한 부분이나 의문점이 있으신가요?
>
> ⚠️ **자료를 충분히 이해하지 못한 상태에서 진행하면, 잘못된 background.md가 작성되고, 이후 모든 단계에서 문제가 연쇄적으로 발생합니다.**
>
> 모든 자료를 이해하셨다면 작업을 시작하겠습니다."

---

## 작성 예시

`/plan/background.md` 파일을 생성하고, 아래 예시를 참고하여 작성하세요.

### 예시 1: 문제/버그가 있는 경우 (Root Cause 필요)

```markdown
# 프로젝트 배경

## 1. 문제 정의 (증상과 영향)
<!-- ⚠️ 이 섹션은 버그/성능저하/오류 등 해결해야 할 문제가 있을 때만 작성 -->
<!-- 단순 기능 추가라면 이 섹션을 생략하고 "2. 목표 및 대상"부터 시작 -->

- **증상 (Phenomenon)**: 마케팅 수신거부 유저 비율이 78%로 높음
  <!-- 기대와 다르게 동작하는 현상 (예: 옵션 유지 안됨, CORS 에러, 로딩 3초 소요) -->

- **발견 경로**: 마케팅팀 월간 리포트에서 Push 도달률 지속 하락 확인
  <!-- 어떻게 인지했는가? (예: VOC, 모니터링 알림, QA 테스트, 로그 분석) -->

- **비즈니스 임팩트**: Push 마케팅 캠페인의 실제 도달률이 22%에 불과하여, 프로모션 효과 급감
  <!-- 왜 해결되어야 하는가? 측정 가능한 지표로 작성 -->

- **Root Cause (근본 원인)**:
  <!-- instructions/self-help/roadmap.md 1-2단계 참고 -->
  - 앱 설치 시 Push 권한 팝업이 너무 이른 시점(온보딩 첫 화면)에 노출되어 유저가 거부하는 비율이 높음
  - 한번 거부한 유저에게 재동의를 유도하는 UI/UX가 없어 영구적으로 수신 불가 상태 유지

## 2. 목표 및 대상
- **목표**: 인앱에서 수신 동의를 독려하여 마케팅 도달률을 40% 이상으로 개선
- **대상 사용자**: 마케팅 수신 OFF 상태인 유저 (현재 약 78만명)

## 3. 참고 자료
- [피그마 - 마케팅 독려](https://figma.com/...)
- [피그마 - 알림 OFF 안내](https://figma.com/...)
```

### 예시 2: 단순 기능 추가인 경우 (Root Cause 불필요)

```markdown
# 프로젝트 배경

## 1. 목표 및 대상
<!-- 문제가 없으므로 "1. 문제 정의" 섹션 생략 -->

- **목표**: 유저가 좋아하는 상품을 빠르게 찾을 수 있도록 검색 필터 기능 추가
- **대상 사용자**: 전체 쇼핑몰 이용자

## 2. 참고 자료
- [기획서 - 검색 필터 개선](https://...)
- [피그마 - 검색 필터 UI](https://figma.com/...)
```

---

## [CRITICAL] 다음 단계로 넘어가기 전 필수 확인

**⚠️ background.md 작성을 완료한 후, 다음 단계(PR 분할 전략 수립)로 넘어가기 전에 사용자 확인이 필요합니다.**

### AI의 필수 질문 (다음 단계 진행 전)

background.md 작성을 완료한 후, 사용자에게 다음과 같이 물어보세요:

> "background.md 작성이 완료되었습니다.
>
> 다음 단계(PR 분할 전략 수립)로 넘어가기 전에 확인이 필요합니다.
>
> **작성한 background.md의 내용을 모두 읽고 이해하셨나요?**
>
> - 문제 정의나 목표가 명확한가요?
> - 이해가 안 되는 부분이 있으신가요?
> - 불필요하거나 잘못 작성된 내용이 있으신가요?
>
> ⚠️ **background.md를 충분히 이해하지 못한 상태에서 다음 단계로 넘어가면, 잘못된 전략 수립과 계획 작성으로 이어져 전체 작업이 틀어질 수 있습니다.**
>
> **이해가 안 되거나 불필요한 내용이 있다면 지금 수정하고 넘어가야 합니다.**
>
> 모든 내용을 이해하셨다면 승인해주세요.
>
> ---
>
> **다음 단계(Step 2: PR 분할 전략 수립)는 Gemini CLI에게 맡기세요.**
>
> **Gemini CLI에게 다음과 같이 요청하세요:**
> ```
> 다음 파일들을 읽고 Step 2부터 시작해줘:
> - /plan/background.md
> - instructions/workflow/steps/step-2.md
> ```
>
> **Gemini가 project.md 작성을 완료하고 승인받으면, 저에게 돌아와서 Step 3부터 진행하시면 됩니다.**"