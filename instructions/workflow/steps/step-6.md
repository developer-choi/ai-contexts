# Step 6: 최종 점검 및 PR 준비

모든 기능 구현 및 커밋 완료 후, **PR 생성 또는 QA 요청 직전** 최종 리허설 단계입니다.

---

## 1. Gap Analysis 및 추가 커밋 검증

계획되지 않은 추가 커밋(버그 수정, 엣지 케이스 등)을 식별하고 검증:

- **커밋 로그 분석**: `git log`로 추가된 커밋 식별
- **추가 검증**: 계획에 없던 코드에 대한 테스트 케이스 확인
- **보고서 기재 기준**: 계획 대비 차이가 있을 때만 기재. 차이가 없으면 섹션 생략.

---

## 2. 통합 검증 및 최종 보고서 작성

**상세 기준**:
- `instructions/conventions/review/`, `instructions/conventions/testing/` 파일들 (검증 전 반드시 읽기)
- [작업 회고 및 셀프 리뷰](../../self-help/review-work.md): 작업 효율성, 커밋 품질
- [코드 퀄리티 리뷰](../../code-quality/README.md)

### 검증 수행 항목

1. **테스트 케이스 도출**:
   - Happy Path, Edge Case 시나리오 리스트업
   - 사용자가 놓칠 수 있는 예외 상황 포함

2. **코드 논리 점검 (Static Analysis)**:
   - 예측 가능한 에러 (Null Reference, 비동기 경쟁 상태 등)
   - 구체적인 위험 요소 지적
   - **[CRITICAL]** 별도 요청이 없어도 항상 비판적으로 검토해야 합니다.
   - **실제 문제(Critical, Minor)만 기록**합니다. 단순 정보 전달(Info)이나 "문제 없음" 항목은 적지 마세요.

### 최종 보고서 작성 (`/plan/pr{N}/review.md`)

```markdown
# 최종 검증 보고서 - [기능명]

## 1. 코드 논리 점검 (잠재적 위험)
- **[Critical]** `userData`가 `null`일 경우 크래시 가능성. (`UserProfile.tsx:45`)
  - 💡 옵셔널 체이닝(`?.`) 추가 필요
- **[Minor]** API 실패 시 에러 처리 누락. 무한 로딩 가능성

## 2. 도출된 테스트 케이스

### 필수 검증
- [ ] **[결제]** 잔액 부족 시 "잔액 부족" 알림 노출
- [ ] **[결제]** 결제 완료 후 뒤로가기 시 중복 결제 방지

### 엣지 케이스
- [ ] **[입력]** 수량 음수/0 입력 시 방어 로직 작동
- [ ] **[네트워크]** 요청 중 연결 끊김 시 앱 멈추지 않음
```

---

## 3. 워크플로우 회고 및 개선

**'일하는 방식'** 점검 및 업그레이드:

### 절차 준수 대조

실제 진행한 작업 내역과 `instructions/workflow/steps/step-1.md` ~ `step-6.md`를 1대1로 대조합니다.

1. 각 step의 md 파일을 다시 열어 지시사항을 하나씩 확인
2. 실제 작업에서 해당 지시사항을 따랐는지 비교
3. 누락한 절차가 있다면:
   - 무엇을 누락했는지 구체적으로 명시
   - 왜 누락했는지 원인 분석 (지시가 모호했는지, 단순 실수인지, 불필요해서 건너뛴 건지)
   - 다음에 누락하지 않으려면 어떻게 해야 하는지 제안 (워크플로우 문서 개선 포함)

### 가이드 업데이트
- 개선 필요 부분이 있으면 `instructions/workflow/*.md` 수정 제안

---

## [CRITICAL] 사용자 확인 필수

> "review.md 작성 완료. 확인해주세요."
