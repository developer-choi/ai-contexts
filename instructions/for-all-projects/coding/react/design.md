# 컴포넌트 설계 및 데이터 패턴

## 1. 기본값(Default Value) 설정 원칙
컴포넌트의 Props나 함수의 파라미터에 기본값을 설정할 때, **"구현자의 예상을 벗어나는 동작"**이 발생해선 안 됩니다.

- **원칙**: 값이 전달되지 않았을 때, 암묵적으로 특정 기능이 작동하거나 데이터가 변경되는 사이드 이펙트를 만들지 마세요.
- **예시 (Pagination)**:
    - `onClick` 핸들러도 없고 `href`도 없을 때, 임의로 `?page=2` 같은 링크를 생성하면 안 됩니다.
    - 차라리 아무 동작도 하지 않거나, `defaultHref` 같은 명시적인 Props를 요구해야 합니다.

## 2. 조건부 렌더링 (Conditional Rendering)
컴포넌트를 보여줄지 말지 결정할 때, 내부에서 `visible` Props를 받는 것보다 **부모에서 조건부 렌더링**을 하는 것을 선호합니다.

- **장점**: 불필요한 Props(`visible`)를 줄일 수 있다. 안그래도 props 많아지면 보기 힘든데 하나라도 줄여야한다.

**❌ Bad (Props로 제어)**
```tsx
<SomeComponent visible={isVisible} prop1={...} />
```

**✅ Good (조건부 렌더링)**
```tsx
{isVisible && <SomeComponent prop1={...} />}
```

## 3. Window EventListener 등록 시점
`scroll`, `keydown` 등의 전역 이벤트 리스너는 **"페이지가 유효하게 이용 가능한 상태"**일 때만 등록해야 합니다.

- **이유**: 데이터가 없거나 에러가 난 빈 화면에서 스크롤/키보드 이벤트가 불필요하게 동작하여 버그를 유발할 수 있습니다.
- **실천**: 데이터 로딩이 완료되고, 실제 콘텐츠(예: 상품 목록)가 렌더링된 시점에 `useEffect` 등을 통해 리스너를 부착하세요.