# 온보딩 기획 분석

## 요약

- 목적: 신규 회원가입 시 학습할 언어와 현재 실력 레벨을 선택하는 온보딩 플로우
- 핵심 플로우: 언어 선택 → 레벨 선택 → 학습 이유 선택 → 시간 선택 → 시간 확인 → 예약/로딩 → 예약/완료 → (다음?)

---

## Step 1: 언어 선택

### 확인됨
- 단일 선택 (영어, 일본어, 중국어)
- 워딩: "어떤 언어를 배우고 싶으신가요?"

### 개발자 의견
- 3개뿐이므로 탭 즉시 다음으로 이동 제안 (기획자에게 전달 예정)

---

## Step 2: 레벨 선택

### 확인됨
- 언어별 6단계 (기초~고급)
- 언어에 따라 자격 기준이 다름 (영어: 오픽, 중국어: HSK)
- 워딩: "현재 {언어} 실력을 알려주세요"

### 개발자 의견
- 선택 즉시 다음으로 이동 제안 (기획자에게 전달 예정)

---

## Step 3: 학습 이유 선택

### 확인됨
- 워딩: "{언어}를 배우려는 이유가 무엇인가요?" / "이유를 모두 선택해 주세요."
- 복수 선택 가능, 단 "잘 모르겠어요"는 단일 선택
- 레벨에 따라 항목이 숨겨지는 로직:
  - 영어: 1~2레벨 → "비즈니스·면접" 숨김 / 1~3레벨 → "프리토킹" 숨김
  - 일본어: 0~2레벨 → "프리토킹" 숨김 / "비즈니스" 항목 자체가 없음
  - 중국어: 레벨별 숨김 규칙 있음 (캡처에서 잘렸으나 존재 확인됨)

### 모호한 부분
- 최소 선택 개수 — 0개 선택으로 "계속하기" 가능한지? → 개발자가 기획서에 코멘트 예정

---

## Step 4: 시간 선택

### 확인됨
- 워딩: "언제 수업을 들으실 건가요?"
- 단일 선택
- 당일 포함 3일 노출 (최대 3일)
- 예약 가능한 가장 빠른 시간 8개 노출
- 예약 가능 수업이 1개뿐이면 날짜 하나만 표시 (예: "2월 15일" 참조)
- "+1", "+2"인 경우 "내일", "모레" 워딩 사용, 그 이후는 "N월 N일"
- "더 많은 시간 보기" 화면: 오전/오후 세그먼트 + 시간 목록 스크롤
  - 오전: 00시가 가장 상단 / 오후: 12시가 가장 상단
  - 현재 시간에 해당하는 슬롯으로 자동 스크롤
- 과거 날짜는 절대 노출 안 됨 (항상 미래만)
- "더 많은 시간 보기"에서 선택 후 동작 → 개발자가 기획서에 코멘트 확인 완료

### 백엔드 확인 필요
- 해당 날짜의 모든 슬롯이 다 찬 경우, 날짜 목록에서 아예 빼서 보내줄 건지?

### 엣지케이스
- 시간 선택 화면에 진입 후 1시간 경과 시, 화면에 표시된 슬롯이 이미 지난 시간이 될 수 있음 — 선택 시점에 재검증 필요하거나, 일정 주기로 슬롯 갱신 필요

---

## Step 5: 시간 확인

### 확인됨
- Bottom Sheet로 선택한 시간 확인 ("이 시간으로 계속할까요?")
- 선택한 날짜/시간 표시 (예: "11월 5일 수요일 오후 2시 30분")
- "계속하기" → 예약 진행
- "다시 선택하기" → 시간 선택 화면으로 복귀
- 배경 클릭으로 Bottom Sheet 닫기 가능 (= 다시 선택하기와 동일)

---

## Step 6: 예약/로딩

### 확인됨
- 워딩: "맞춤 수업을 준비하는 중" / "잠시만 기다려 주세요..."
- 1500ms 유지

### 모호한 부분
- 예약 API 실패 시 처리 미정의 — 네트워크 에러, 슬롯 선점 충돌(conflict) 등
- 로딩 이후 다음 화면은? (캡처 대기 중)

### 기획자 확인 필요
- 네트워크 상황이 안 좋아서 1.5초보다 수업 준비가 더 길어질 때, 이 로딩 화면이 무한정 보여져도 되는지? 타임아웃 처리가 필요한지? (질문자: 박윤호/유진)

### 엣지케이스
- 시간 확인 → 계속하기 사이에 다른 사용자가 동일 슬롯 선점 시 conflict 처리

---

## Step 7: 예약/완료

### 확인됨
- 워딩: "맞춤 수업 준비 완료!" / "수업이 준비되었어요."
- 1200ms 유지 후 자동으로 수업 상세 페이지로 이동

---

## Step 8: 수업 상세

### 확인됨
- 워딩: "맞춤 수업이 준비되었어요"
- 추천 코스 표시 (필수 패턴, 한/영 문장, `...` 메뉴)
- 배정된 선생님 표시 (이름, 별점, 태그, "자세히" 버튼)
- 수업 시간 표시 + "변경" 버튼
- 수업 취소까지 남은 시간 (카운트다운 타이머, 5:00부터 시작) + "연장" 버튼
- "예약 확정하기" CTA

### 선생님 홀딩/Pending 로직
- 페이지 진입 시 제한시간 5분, 타이머 시작
- 제한시간 내에 예약 확정하지 않으면 Pending 해제 → "배정 취소 모달"
- Pending 해제 최대 5번까지 가능
- 4회째 → "Pending 상태 해제 4회시 모달"
- 5회 채운 상태에서 제한시간 만료 or 버튼 클릭 → "Pending 상태 해제 5회 이상 모달"

### 시간 변경
- "변경" 클릭 → "시간 선택" 페이지로 이동
- 단, 기존 선택 시간이 이미 지났으면 선택되지 않은 상태로 이동

### 제한 시간 연장
- "연장" 클릭 시 제한시간 5분으로 초기화
- 수업 시작 시간이 40분 전인 경우 연장 버튼 없음

### 특이 CASE
- 앱 강제 종료 등 화면 이탈 후 제한 시간 내 다시 무료 수업 신청 Flow 진입 시 → 이 "수업 상세" 페이지로 랜딩

### 모호한 부분
- "예약 확정하기"가 기획 메모의 "카카오/이메일 회원가입" 버튼 역할인가? 화면에 회원가입 버튼이 안 보임
- 수업 시작 40분 이내일 때 — 연장 버튼만 사라지는지, 영역 자체가 달라지는지?
- 타이머가 0이 되는 순간 — 바로 모달? 딜레이?

---

## 수업 상세 - 다른 코스 선택

### 확인됨
- 수업 상세의 `...` 메뉴에서 진입 (추정)
- 코스 목록 표시 (Overline / Title / Subtext, 이미지)
- 클릭 시 수업 상세로 이동 (선택한 교재로 바뀜)

### 모호한 부분
- 코스 목록은 어디서 오는 데이터인가? 선택한 언어/레벨에 따라 필터링?
- 현재 선택된 코스가 목록에서 어떻게 표시되는지? (선택 표시 아이콘이 보이긴 함)
- 코스를 바꾸면 선생님 배정도 바뀌는가?
- 코스를 바꿨을 때 5분 타이머는 리셋되는가?

---

## 수업 상세 - 선생님 상세보기

### 확인됨
- 수업 상세의 "자세히" 버튼에서 진입 → 새 페이지
- 선생님 프로필: 이름, 별점 (소수점도 반영된 fill 처리)
- 소개: 영어 원문 + "한국어로 보기" 토글 + "더 보기" 접기/펼치기
- 음성: 선생님 실제 음성 재생 버튼
- 수업 스타일: 태그 (꼼꼼한 교정, 천천히 얘기, 교재 위주)
- 상세 정보: 자격증, 학과/직업, 한국어 가능 여부, 성격/성향, 취미/관심사
  - 영어인 경우에만 자격증 항목 노출
  - 중/일인 경우에만 한국어 항목 노출
- 수업 후기: 별점 + 긍정 후기 그래프 + 대표 리뷰 + "더 보기"

### 태그 정책
- (영어) 자격증: 아래 한국 중 1개 이상 선택 필수
  - 항목: TEFL, 국공립교원자격증
- (중/일) 전공 or 직업: 가지고있는 것 1개 이상 입력 필수
- (중/일) 한국어 가능 여부
- (공통) 수업 스타일:
  - 7개 항목 선택 필수, 선택한 값이 태그에 노출
  - 항목 예시: 꼼꼼한 교정 <> 즉석 교정 / 말이 빠른 <> 천천히 얘기 등
  - 항목은 명/중/일 팀이 논의하여 최종 결정 예정
- (공통) 성격/성향: 최대 3가지 선택 가능, 선택 필수
  - 항목 예시: 유쾌한, 활발한, 차분한, 공감형
  - 항목은 명/중/일 팀이 논의하여 최종 결정 예정
- (공통) 취미/관심사: 최대 3가지 자유롭게 입력 가능, 1개 이상 입력 필수

### 긍정 후기 그래프
- 최근 리뷰 100개 중 긍정 피드백 상위 5개 항목 노출
- 최대 100을 Full 사이즈로 잡고 그에 따른 수를 그래프 표시
- 그래프에 나올 수 있는 항목:
  - 명료하게 설명 해줬어요 / 능숙하게 수업을 진행해줬어요 / 대화를 많이 유도를 해줬어요 / 발화의 비중이 적절했어요 / 알맞게 난이도 조절을 해줬어요 / 공감하고 갈이 웃어줬어요 / 피드백을 충분히 해줬어요 / 포르투갈이 오수준이요 / 효율적이고 즐거웠어요 / 수업 시간을 충수해줬어요

### 대표 리뷰
- 아래 조건에 해당하는 리뷰 3개 노출 (최신순으로 조회):
  - 5점 리뷰
  - 텍스트 40자 이상 리뷰
- "더 보기" → 수업 후기 자세히 페이지로 이동

### 리포트에서 받은 레벨 표기
- 아직 레벨 못 받은 경우: 표시 x
- 영어: 레벨 1~6 / 중국어: 레벨 0~6 / 일본어: 레벨 0~6

### 모호한 부분
- "한국어로 보기" 토글 — 번역 데이터가 서버에 있는 건지, 클라이언트에서 번역하는 건지?
- 음성 재생 — 오디오 파일 URL? 재생 중 UI 상태 (재생/일시정지)?
- 태그 항목이 아직 최종 확정되지 않음 (명/중/일 팀 논의 예정)

---

## 수업 후기 자세히

### 확인됨
- 모든 수업 후기 페이지 (X 버튼으로 닫기)
- 별점 표시 + 긍정 후기 그래프 (선생님 상세보기와 동일)
- 리뷰 목록: 무한 스크롤, 최신순으로 조회
- 각 리뷰: 닉네임, 레벨, 별점, 날짜, 텍스트

### 모호한 부분
- 리뷰가 0건일 때 빈 상태 UI?
- 리뷰 필터/정렬 기능은 없는 건지? (별점별 등)

---

## 배정 관련 모달 (예약/로딩 단계에서 발생 — 피그마 위치 오류, 개발자가 코멘트 예정)

### 배정 취소 모달
- 워딩: "배정이 취소되었어요" / "시간이 오래 지나 선생님 배정이 취소되었어요. 새로운 배정을 받은 후 예약을 확정해 주세요."
- "다시 배정 받기" → 시간 선택 페이지로 이동

### Pending 상태 해제 4회시 모달
- 워딩: "재배정 횟수가 1회 남았어요" / "횟수를 초과할 경우 재배정 받을 수 없어요."
- "다시 배정 받기" → 재시도

### Pending 상태 해제 5회 이상 모달
- 워딩: "재배정 횟수가 초과되었어요" / "재배정은 최대 5회까지 받을 수 있어요. 추가 배정을 원하실 경우 고객센터로 문의해 주세요."
- "고객센터로 문의하기" → 랭디 카카오톡 고객센터로 이동 (링크)

---

## 공통 엣지케이스

- URL 직접 접근 시 이전 단계 데이터 없는 경우 처리 필요 (예: `/onboarding/reason`에 직접 접근 → 언어·레벨 데이터 없음 → 첫 단계로 리다이렉트)
- 브라우저 새로고침 시 현재 단계 입력값 유지 여부
- 브라우저 뒤로가기/앞으로가기 시 단계 간 데이터 정합성

## 구현 메모

- multi-step form 구조 — 뒤로가기 시 이전 입력값 유지 필수
- toss `use-funnel` 패턴 참고하여 구현
- 단계 간 데이터 유실 방지에 특히 주의
- 학습 이유 선택: 이전 단계(레벨)에 따라 항목을 동적으로 숨기는 로직 필요

## 미확인 / 추가 캡처 필요

- 예약/완료 후 이동하는 화면
- 전체 플로우의 마지막 단계

## 기획자 질문 목록

(전체 캡처 수집 후 종합 정리)
